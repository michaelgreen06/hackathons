import { decodeAbiParameters } from "viem";

// Example ABI parameters and encoded data
const abiParameters = [
  { type: "string", name: "member" },
  { type: "string", name: "amount" },
  { type: "string", name: "transactiontype" },
  { type: "string", name: "date" },
  { type: "string", name: "category" },
  { type: "string", name: "description" },
];

// Example encoded data (this would be the data you receive from the API)
const encodedData =
  "0x00000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000140000000000000000000000000000000000000000000000000000000000000018000000000000000000000000000000000000000000000000000000000000001c0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000146d69636861656c2072656e74206163636f756e740000000000000000000000000000000000000000000000000000000000000000000000000000000000000003343030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000013000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a323032342d30392d30310000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000104f66666963652045717569706d656e74000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000014476f7474612070617920746861742072656e7421000000000000000000000000";

// Decode the data
const decodedValues = decodeAbiParameters(abiParameters, encodedData);

// Map the decoded values to their parameter names
const decodedObject: Record<string, any> = {};
abiParameters.forEach((param, index) => {
  decodedObject[param.name] = decodedValues[index];
});

// Log the key-value pairs
console.log(decodedObject);
